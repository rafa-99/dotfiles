#!/bin/sh

RUN=$(\
printf "document
flatpak
gallery
printers" | dmenu -i -c -l 15 -p "Run:")

case $RUN in
	mixer)
		st -e pulsemixer || st -e alsamixer
		;;

	document)
		DOC=$(printf "Document\nAnswer Sheet" | dmenu -i -c -l 15 -p "Document Type:")
		case "$DOC" in
			"Document")
				cp -rf ~/.local/src/templates/document.md ~/
				st -e nvim document.md
				;;
			"Answer Sheet")
				cp -rf ~/.local/src/templates/quick.md ~/
				st -e nvim quick.md
		esac
		;;

	flatpak)
		flatpak run "$(flatpak list --app --columns=application | grep -vi "Application ID" | dmenu -i -c -l 15 -p "Flatpak:")"
		;;

	gallery)
		SEL=$(printf "Gallery\nWallpapers" | dmenu -i -c -l 15)
		if [ "$SEL" = "Gallery" ]; then
			find Gallery -type f | grep -vi Plz | shuf | sxiv -t -
		fi
		if [ "$SEL" = "Wallpapers" ]; then
			CAT=$(find ~/Pictures/wallpapers -type d | grep -vi git | cut -d/ -f6 | uniq | sort | tail -10 | dmenu -i)
			find ~/Pictures/wallpapers/"$CAT" -type f | shuf | sxiv -t -
		fi
		;;

	printers)
		system-config-printer
esac
