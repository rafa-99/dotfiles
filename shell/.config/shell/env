#!/bin/sh

# Profile file. Runs on login. Environmental variables are set here.
# Adds ~/.local/bin to $PATH
export PATH="$HOME/.local/bin:$HOME/.local/share/android-sdk:$PATH"

# Default programs
export EDITOR="nvim"
export TERMINAL="st"
export BROWSER="firefox"
export READER="zathura"
export FILE="vifmrun"
export NEWS="newsboat"
export DOCS="man -l $HOME/.local/man/dots.1"

# Home directory clean-up
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CACHE_HOME="$HOME/.cache"
export SUCK="$HOME"/.local/src/suck
export LESSHISTFILE="-"
export GTK2_RC_FILES="$XDG_CONFIG_HOME"/gtk-2.0/gtkrc-2.0
export ZDOTDIR="$XDG_CONFIG_HOME"/zsh
export XAUTHORITY="$XDG_CONFIG_HOME"/X11/Xauthority
export GNUPGHOME="$XDG_DATA_HOME"/gnupg
export WINEPREFIX="$HOME"/Games/WINEPREFIX
export ANDROID_SDK_ROOT="$XDG_DATA_HOME"/android-sdk
export ANDROID_HOME="$XDG_DATA_HOME"/android-sdk
export JAVA_HOME=/usr/lib/jvm/default
export NPM_CONFIG_USERCONFIG="$XDG_CONFIG_HOME"/npm/npmrc
export XINITRC="$XDG_CONFIG_HOME"/X11/xinitrc
export PASSWORD_STORE_DIR="$XDG_DATA_HOME"/pass
export GOPATH="$XDG_DATA_HOME"/go
export CARGO_HOME="$XDG_DATA_HOME"/cargo

# Default Vars
export SUDO_ASKPASS="$HOME"/.local/bin/askpass
export WALLPAPER="$XDG_CONFIG_HOME"/wallpaper/wallpaper.png
export QT_QPA_PLATFORMTHEME=qt5ct
export "$(dbus-launch)"

# Initializing Session if Xorg not Running Already
export SESSION=dwm

if ! pgrep Xorg > /dev/null
then
	printf "Initializing Xorg\nPress Ctrl + C to stop the initialization process\n"
	for ((i = 5; i >= 1; i--))
	do
		sleep 1
		echo -n "$i "
	done
	echo ""
	exec startx "$XINITRC"
fi
