#!/bin/sh

RUN=$(\
printf "atom
audacity
browser
dmenu
flatpak
filezilla
gallery
gimp
intellij
kdenlive
lmms
lutris
mixer
music
mysql
networks
octave
pcmanfm
printers
st
transmission
vifm
virtualbox
vscode" | dmenu -i -p "Run:")

case $RUN in
	mixer)
		st -e pulsemixer || st -e alsamixer
		;;
	atom)
		atom
		;;
	audacity)
		audacity
		;;
	browser)
		neovimb || firefox || tabbed surf -e
		;;
	dmenu)
		dmenu_run
		;;
	filezilla)
		filezilla
		;;
	flatpak)
		APP=$(flatpak list | grep -vi freedesktop | awk '{print $1}' | grep -vi Name | dmenu -i -p "Flatpak:")
		flatpak run "$(flatpak list | grep ^"$APP" | awk '{print $2}')"
		;;
	gallery)
		SEL=$(printf "Gallery\nWallpapers" | dmenu -i)
		if [ "$SEL" = "Gallery" ]; then
			find Gallery -type f | grep -vi Plz | shuf | sxiv -t -
		fi
		if [ "$SEL" = "Wallpapers" ]; then
			CAT=$(find ~/Source/wallpapers -type d | grep -vi git | cut -d/ -f6 | uniq | sort | tail -10 | dmenu -i)
			find Source/wallpapers/"$CAT" -type f | shuf | sxiv -t -
		fi
		;;
	gimp)
		gimp
		;;
	intellij)
		idea
		;;
	kdenlive)
		kdenlive
		;;
	lmms)
		lmms
		;;
	lutris)
		lutris
		;;
	music)
		mpd; st -e ncmpcpp
		;;
	mysql)
		mysql-workbench
		;;
	networks)
		nmtui
		;;
	octave)
		octave --gui
		;;
	pcmanfm)
		pcmanfm
		;;
	printers)
		system-config-printer
		;;
	st)
		st
		;;
	transmission)
		transmission-gtk
		;;
	vifm)
		st -e vifm
		;;
	virtualbox)
		virtualbox
		;;
	vscode)
		vscodium || vscodium-bin
esac
